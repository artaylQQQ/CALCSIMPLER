---
const { title = 'Niche Calculator Network', description = 'Fast, accurate online calculators.' } = Astro.props;
const ADS_CLIENT = import.meta.env.VITE_ADSENSE_CLIENT;
const CF_TOKEN = import.meta.env.VITE_CF_ANALYTICS_TOKEN;
const SITE = import.meta.env.SITE_URL || 'https://example.com';
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{title} — Niche Calculator Network</title>
    <meta name="description" content={description} />
    
    <meta name="robots" content="index,follow" />
    {(() => { const href = Astro.site ? new URL(Astro.url.pathname, Astro.site).href : `https://example.com${Astro.url.pathname}`; return (<link rel="canonical" href={href} />) })()}
    {CF_TOKEN && (
      <script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon={`{"token":"${CF_TOKEN}"}`}></script>
    )}
    {ADS_CLIENT && (
      <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client={ADS_CLIENT}" crossorigin="anonymous"></script>
    )}
    <style>
      :root { --maxw: 860px; --bg:#fff; --fg:#111; --muted:#666; --border:#e8e8e8; }
      *{box-sizing:border-box} body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;color:var(--fg);background:var(--bg)}
      header,main,footer{margin:0 auto;max-width:var(--maxw);padding:16px}
      header a{text-decoration:none;color:inherit}
      nav a{margin-right:12px}
      .card{border:1px solid var(--border);border-radius:8px;padding:16px;margin:16px 0;background:#fff}
      .grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
      label{display:block;margin:8px 0 4px}
      input,select,button{width:100%;padding:10px;border:1px solid var(--border);border-radius:6px}
      .result{font-size:1.25rem;font-weight:600;margin-top:12px}
      .muted{color:var(--muted);font-size:.95rem}
      .adslot{min-height:90px;display:block;margin:16px auto;text-align:center}
      input:focus,button:focus{outline:2px solid #3b82f6;outline-offset:2px}
      button{cursor:pointer}
    </style>
  </head>
  <body>
    <header>
      <a href="/"><h1>Niche Calculator Network</h1></a>
      <nav>
        <a href="/privacy">Privacy</a>
        <a href="/disclaimer">Disclaimer</a>
      </nav>
    </header>
    <main>
      <slot />
    </main>
    <footer class="muted">
      <div>© {new Date().getUTCFullYear()} Niche Calculator Network</div>
    </footer>
  </body>
</html>
